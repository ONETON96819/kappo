var childp, empty, error, foreground, log, ref, slash, winLaunch;

ref = require('kxk'), slash = ref.slash, childp = ref.childp, empty = ref.empty, error = ref.error, log = ref.log;

foreground = require('wxw').foreground;

winLaunch = function(exePath) {
  var focusWins, subprocess;
  focusWins = foreground(exePath);
  if (!empty(focusWins)) {
    return {
      focusWins: focusWins
    };
  }
  if ("cmd" === slash.base(exePath)) {
    childp.exec("start cmd /k");
    return;
  }
  subprocess = childp.spawn("\"" + exePath + "\"", [], {
    detached: true,
    stdio: 'ignore',
    shell: true
  });
  subprocess.on('error', function(err) {
    return error("winLaunch -- failed to start subprocess " + exePath + " " + (args.join(' ')) + ".");
  });
  return {
    subprocess: subprocess
  };
};

module.exports = winLaunch;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid2lubGF1bmNoLmpzIiwic291cmNlUm9vdCI6Ii4iLCJzb3VyY2VzIjpbIiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFPQSxJQUFBOztBQUFBLE1BQXVDLE9BQUEsQ0FBUSxLQUFSLENBQXZDLEVBQUUsaUJBQUYsRUFBUyxtQkFBVCxFQUFpQixpQkFBakIsRUFBd0IsaUJBQXhCLEVBQStCOztBQUU3QixhQUFlLE9BQUEsQ0FBUSxLQUFSOztBQUVqQixTQUFBLEdBQVksU0FBQyxPQUFEO0FBRVIsTUFBQTtFQUFBLFNBQUEsR0FBWSxVQUFBLENBQVcsT0FBWDtFQUVaLElBQUcsQ0FBSSxLQUFBLENBQU0sU0FBTixDQUFQO0FBRUksV0FBTztNQUFBLFNBQUEsRUFBVSxTQUFWO01BRlg7O0VBSUEsSUFBRyxLQUFBLEtBQVMsS0FBSyxDQUFDLElBQU4sQ0FBVyxPQUFYLENBQVo7SUFDSSxNQUFNLENBQUMsSUFBUCxDQUFZLGNBQVo7QUFDQSxXQUZKOztFQUlBLFVBQUEsR0FBYSxNQUFNLENBQUMsS0FBUCxDQUFhLElBQUEsR0FBSyxPQUFMLEdBQWEsSUFBMUIsRUFBK0IsRUFBL0IsRUFBbUM7SUFBQSxRQUFBLEVBQVUsSUFBVjtJQUFnQixLQUFBLEVBQU8sUUFBdkI7SUFBaUMsS0FBQSxFQUFPLElBQXhDO0dBQW5DO0VBQ2IsVUFBVSxDQUFDLEVBQVgsQ0FBYyxPQUFkLEVBQXVCLFNBQUMsR0FBRDtXQUNuQixLQUFBLENBQU0sMENBQUEsR0FBMkMsT0FBM0MsR0FBbUQsR0FBbkQsR0FBcUQsQ0FBQyxJQUFJLENBQUMsSUFBTCxDQUFVLEdBQVYsQ0FBRCxDQUFyRCxHQUFvRSxHQUExRTtFQURtQixDQUF2QjtBQUdBLFNBQU87SUFBQSxVQUFBLEVBQVcsVUFBWDs7QUFoQkM7O0FBa0JaLE1BQU0sQ0FBQyxPQUFQLEdBQWlCIiwic291cmNlc0NvbnRlbnQiOlsiXG4jIDAwMCAgIDAwMCAgMDAwICAwMDAgICAwMDAgIDAwMCAgICAgICAwMDAwMDAwICAgMDAwICAgMDAwICAwMDAgICAwMDAgICAwMDAwMDAwICAwMDAgICAwMDBcbiMgMDAwIDAgMDAwICAwMDAgIDAwMDAgIDAwMCAgMDAwICAgICAgMDAwICAgMDAwICAwMDAgICAwMDAgIDAwMDAgIDAwMCAgMDAwICAgICAgIDAwMCAgIDAwMFxuIyAwMDAwMDAwMDAgIDAwMCAgMDAwIDAgMDAwICAwMDAgICAgICAwMDAwMDAwMDAgIDAwMCAgIDAwMCAgMDAwIDAgMDAwICAwMDAgICAgICAgMDAwMDAwMDAwXG4jIDAwMCAgIDAwMCAgMDAwICAwMDAgIDAwMDAgIDAwMCAgICAgIDAwMCAgIDAwMCAgMDAwICAgMDAwICAwMDAgIDAwMDAgIDAwMCAgICAgICAwMDAgICAwMDBcbiMgMDAgICAgIDAwICAwMDAgIDAwMCAgIDAwMCAgMDAwMDAwMCAgMDAwICAgMDAwICAgMDAwMDAwMCAgIDAwMCAgIDAwMCAgIDAwMDAwMDAgIDAwMCAgIDAwMFxuXG57IHNsYXNoLCBjaGlsZHAsIGVtcHR5LCBlcnJvciwgbG9nIH0gPSByZXF1aXJlICdreGsnXG5cbnsgZm9yZWdyb3VuZCB9ID0gcmVxdWlyZSAnd3h3J1xuXG53aW5MYXVuY2ggPSAoZXhlUGF0aCkgLT5cbiAgICBcbiAgICBmb2N1c1dpbnMgPSBmb3JlZ3JvdW5kIGV4ZVBhdGhcbiAgICAgICAgXG4gICAgaWYgbm90IGVtcHR5IGZvY3VzV2luc1xuICAgICAgICBcbiAgICAgICAgcmV0dXJuIGZvY3VzV2luczpmb2N1c1dpbnNcbiAgICAgICAgXG4gICAgaWYgXCJjbWRcIiA9PSBzbGFzaC5iYXNlIGV4ZVBhdGhcbiAgICAgICAgY2hpbGRwLmV4ZWMgXCJzdGFydCBjbWQgL2tcIlxuICAgICAgICByZXR1cm5cbiAgICAgICAgXG4gICAgc3VicHJvY2VzcyA9IGNoaWxkcC5zcGF3biBcIlxcXCIje2V4ZVBhdGh9XFxcIlwiLCBbXSwgZGV0YWNoZWQ6IHRydWUsIHN0ZGlvOiAnaWdub3JlJywgc2hlbGw6IHRydWVcbiAgICBzdWJwcm9jZXNzLm9uICdlcnJvcicsIChlcnIpIC0+XG4gICAgICAgIGVycm9yIFwid2luTGF1bmNoIC0tIGZhaWxlZCB0byBzdGFydCBzdWJwcm9jZXNzICN7ZXhlUGF0aH0gI3thcmdzLmpvaW4gJyAnfS5cIlxuICAgICAgICBcbiAgICByZXR1cm4gc3VicHJvY2VzczpzdWJwcm9jZXNzXG5cbm1vZHVsZS5leHBvcnRzID0gd2luTGF1bmNoXG4iXX0=
//# sourceURL=../coffee/winlaunch.coffee